<div xmlns="http://www.coremedia.com/2003/richtext-1.0" xmlns:xlink="http://www.w3.org/1999/xlink"><p class="MsoNormal"><span xml:lang="EN-US">The <em>CoreMedia Social Software Extension</em> comes with pre-defined relationships, such as "Ownership" but you can define your own relationships. This comprises the the following steps:</span></p><ol><li><p class="MsoNormal"><span xml:lang="EN-US">Define a relationship type</span></p></li><li><p class="MsoNormal"><span xml:lang="EN-US">Register the relationship type</span></p></li><li><p class="MsoNormal"><span xml:lang="EN-US">Implement the relationship bean</span></p></li><li><p class="MsoNormal"><span xml:lang="EN-US">Register the relationship bean</span></p></li></ol><p class="MsoNormal"><span xml:lang="EN-US">As an example a </span><span class="inlineformat--code" xml:lang="EN-US">Friendship</span><span xml:lang="EN-US"> relationship will be created. That is, a </span><span class="inlineformat--code" xml:lang="EN-US">User</span><span xml:lang="EN-US"> can define another </span><span class="inlineformat--code" xml:lang="EN-US">User</span><span xml:lang="EN-US"> as friend. The relationship will have the source role ¿user¿ with a target role ¿friend¿. You also define a property ¿since¿ for the starting date of the friendship.</span></p><p class="p--heading-2 MsoNormal"><span xml:lang="EN-US">Define the interface</span></p><p class="MsoNormal"><span xml:lang="EN-US">Defining an own relationship is basically very similar to defining a new resource type. Of course the used annotation differ slightly. An interface to define a friendship between two users would look like this:</span></p><p class="p--codeblock MsoNormal">import com.coremedia.sse.core.annotations.Property;<br/>import com.coremedia.sse.core.annotations<br/>          .RelationshipTypeAnnotation;<br/>import com.coremedia.sse.core.annotations.RoleAnnotation;<br/>/**<br/> * A friendship relationship.<br/> * A user can have many friends.<br/> */<br/>@RelationshipTypeAnnotation(<br/>        name = "Friendship",<br/>        uri = "http://www.coremedia.com/socialsoftware<br/>                    /examples/Friendship",<br/>        isAbstract = false,<br/>        sourceRole = {@RoleAnnotation(<br/>                name = "user",<br/>                isMultiple = true,<br/>                resourceType = "User")},<br/>        targetRole = {@RoleAnnotation(<br/>                name = "friend",<br/>                isMultiple = true,<br/>                resourceType = "User")}<br/>        )<br/>public interface Friendship {<br/>  public static final String NAME="Friendship";<br/>  /**<br/>   * Friends since when?<br/>   * @return start of friendship<br/>   */<br/>  @Property<br/>  Calendar getSince();<br/>}</p><p class="MsoNormal">You use a <span class="inlineformat--code">RelationshipTypeAnnotation</span>, which requires the definition of roles using <span class="inlineformat--code">RoleTypeAnnotations</span>.</p></div>