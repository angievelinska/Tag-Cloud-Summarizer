<div xmlns="http://www.coremedia.com/2003/richtext-1.0" xmlns:xlink="http://www.w3.org/1999/xlink"><p><span xml:lang="EN-GB">The <em>Recommendation Engine</em> requires a database. This database may be hosted on the same server (or within the same schema) as the <em>Social Software Repository </em>database. This is the default scenario for the batch process part of the <em>Recommendation Engine</em>. </span></p><p><span xml:lang="EN-GB">Alternatively, an entirely separate database system (schema) may also be used, in order to accommodate higher load and/or varying security arrangements or requirements. </span></p><p><span xml:lang="EN-GB">As has been noted above, the two parts of the <em>Recommendation Engine</em></span> perform different tasks and therefore require different configuration tasks to be completed. In particular, the service part of the <em>Recommendation Engine</em> may need to read from a replicated snapshot in order to reduce load on the live database.</p><p><span xml:lang="EN-GB">The chapters below cover database configuration requirements for both parts.</span></p><p class="p--heading-1"><span xml:lang="EN-GB">Batch Process Configuration</span></p><p><span xml:lang="EN-GB">Database configuration for the batch process part of the <em>Recommendation Engine </em>is done in the </span><span class="inlineformat--code">sse-flows.properties</span> file, located in the <span class="inlineformat--code">spring/sse-flows</span> directory. <span xml:lang="EN-GB">The batch process part stores </span>likeness results and recommendations to this database.</p><p>The configuration may be kept the same as that of the <em><span xml:lang="EN-GB">Social Software Repository</span></em><span xml:lang="EN-GB">, as noted above. In this case, the relevant configuration information from the </span><span class="inlineformat--code" xml:lang="EN-GB">sse.properties</span><span xml:lang="EN-GB"> file merely needs to be copied into the relevant fields in the </span><span class="inlineformat--code">sse-flows.properties</span><span xml:lang="EN-GB"> file. Otherwise, enter new configuration information to store the data elsewhere. </span></p><p><span xml:lang="EN-GB">The relevant portion of the </span><span class="inlineformat--code">sse-flows.properties</span> file is shown below with the database configuration completed with sample values. All database-related properties have identical semantics to the database properties for the repository as discussed in <a xlink:actuate="onRequest" xlink:href="coremedia:///cap/resources/260992" xlink:show="replace" xlink:type="simple">section</a>.</p><p class="p--codeblock">recommend.flow.connection.driver_class=org.postgresql.Driver<br/>recommend.flow.connection.url=jdbc:postgresql://localhost:5432/sse<br/>recommend.flow.connection.username=sse<br/>recommend.flow.connection.password=sse<br/>recommend.flow.database.type=postgresql</p><p class="p--heading-1">Service Configuration</p><p>The configuration of the service part of the <em>Recommendation Engine</em> must match the configuration of the batch process part of the component. </p><p>Configuration of the service is done in the <span class="inlineformat--code">sse.properties</span> file (located in the <span class="inlineformat--code">spring/sse</span> directory), not in the <span class="inlineformat--code">sse-flows.properties</span> file.</p><p>A sample configuration is given below. Note that the database type is not given.</p><p class="p--codeblock"># Recommendation Engine: service part database connection<br/># This connection configuration must match the Recommendation <br/># Engine batch process configuration.<br/># It is used to read recommendation engine results.<br/>recommend.service.connection.driver_class=org.postgresql.Driver<br/>recommend.service.connection.url=jdbc:postgresql://localhost:5432/sse<br/>recommend.service.connection.username=sse<br/>recommend.service.connection.password=sse</p></div>