<div xmlns="http://www.coremedia.com/2003/richtext-1.0" xmlns:xlink="http://www.w3.org/1999/xlink"><p>For each property you want to persist you must add a <span class="inlineformat--code">@Property</span> annotation. Markup properties require a schema definition. To do so, add the <span class="inlineformat--code">@Schema</span> annotation. The id of the schema must match a defined XML schema. Predefined schemas are CoreMedia rich text (named <span class="inlineformat--code">coremedia-richtext-1.0)</span> and XHtml (named <span class="inlineformat--code">xhtml-1.0)</span>. The registering of custom XML schemas is desribed in <a xlink:actuate="onRequest" xlink:href="coremedia:///cap/resources/271358" xlink:show="replace" xlink:type="simple">section</a>. The supported property types are explained in <a xlink:actuate="onRequest" xlink:href="coremedia:///cap/resources/261140" xlink:show="replace" xlink:type="simple">section</a>.</p><p><strong>Restrictions</strong></p><p>It is prohibited to change the parent of a resource or the type of a property. You can only add additional properties to existing types. </p><p class="p--heading-2">Register the Resource Type</p><p><span xml:lang="EN-US">Register all resource and relationship types by adding a new application context configuration file to the </span><span class="inlineformat--code" xml:lang="EN-US">/spring</span><span xml:lang="EN-US"> directory. Register new types by adding their interface names to the list in the definition of the registry bean. The configuration below uses a property customizer to add the resource type definition to the existing ones.</span></p><p class="p--codeblock"><span xml:lang="EN-US">&lt;customize:append id="baseModuleResourceTypesConfig" </span><br/> <span xml:lang="EN-US">bean="sseResourceTypes"&gt;</span><br/>   &lt;list&gt;<br/>     &lt;value&gt;com.coremedia.training.resource.MyUserContent<br/>     &lt;/value&gt;<br/>   &lt;/list&gt;<br/> &lt;/customize:append&gt;</p><p class="p--heading-2"><span xml:lang="EN-US">Implement a Resource Bean</span></p><p><span xml:lang="EN-US">Now implement the bean. The class must extend the class </span><span class="inlineformat--code" xml:lang="EN-US">AbstractResourceBean</span><span xml:lang="EN-US"> or one of its subclasses. To access the persisted properties, you use the method </span><span class="inlineformat--code" xml:lang="EN-US">getResource()</span><span xml:lang="EN-US"> to access the resource first and then use the getter method for your property type to return the property's value.</span></p><p class="p--codeblock"><span xml:lang="EN-US">package com.coremedia.training.resource;</span><br/> <br/>import com.coremedia.sse.base.model.XhtmlUserContent<br/>import com.coremedia.xml.Markup;<br/><br/>public class MyUserContentImpl extends UserContentImpl <br/>                               implements MyUserContent {<br/>  public Markup getSummary() {<br/>    return getResource().getMarkup("text");<br/>  };<br/>}</p><p class="p--heading-2"><span xml:lang="EN-US">Register the Resource Bean</span></p><p>Now register the resource bean in your new configuration file, just as you would register content beans. Define the class definition used to instantiate a resource of this type. Make sure to define that it should not be used as singleton.</p><p class="p--codeblock">&lt;bean name="sseBeanFactory:MyUserContent" <br/>        scope="prototype"   <br/> class="com.coremedia.training.resource.MyUserContentImpl¿<br/>        parent="abstractBaseModuleBean"/&gt;</p><p>Instead of defining the concrete class, you can also define a factory implementing <span class="inlineformat--code">ElementBeanFactory </span>interface to actually create beans. An example for this is the definition of the <span class="inlineformat--code">ExternalReference</span> bean, which is defined as a factory, which uses the id provider to really create  the bean.</p></div>