

Modifying elements in the repository

In order to provide clear transaction semantics for repository modifications, repository elements (and their wrapping beans) do not have property setters for individual properties. Instead, any modification to a repository element must be performed by executing a command. Commands have a very simple interface (Command<T>#execute(T argument)), and many command implementations provide additional convenient overloads of the execute() method. The repository guarantees atomic execution for commands, i.e. if the execute method throws an exception, repository will remain unmodified. Also, any read operation from the repository is isolated from concurrently running commands. Repository changes will only be visible to other threads and application instances after successful completion of the command.