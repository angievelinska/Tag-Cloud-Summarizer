

 Strategy (Bean property name) Description Default InitializationStrategy 

A strategy to custom initialize the consolidator. Run after the pre-mordial (basic) consolidator initialization.

Used in TimeSeriesReport_GenericQueryConsolidator to pregenerate empty (zero-valued) entries. 

Per default: Set to null.

In TimeSeriesReport_GenericQueryConsolidator: Set to TimeSeriesInitializationStrategy MappingStrategies 

One optional MappingStrategy per query instance. The structure maps the query name to the mapping strategy. A mapping strategy allows to redefine value names. This allows different queries to report values as 'Y0' without name clash. Example: A mapping strategy defined for a query named ''q1" remaps value key 'Y0' to 'Y2' in the consolidator.

Any mapping strategy is applied before the values are normalized and folded (see strategies below). Default: Set to null (empty list, no strategy defined). NormalizationStrategy Converts and normalizes x values to consolidator entry keys. The purpose is to normalize ranges of x values to one single key, according to x value resolution. Example: Report with several queries. Each returns time series data with numerous data points inside each month. If the report parameters are set to a "per month" resolution, the normalization strategy should map all points in time to the single one point in time representing "January", e.g. Jan 1, midnight. 

Default: Entry key = x value.

In TimeSeriesReport_GenericQueryConsolidator: Set to TimeSeriesNormalizationStrategy. FoldingStrategy The central strategy used to fold / consolidate more than one query results into one consolidator entry. 

Default: SumStrategy: For all entries with the same x value: All y values of same key are summed up (sum of Y0; sum of Y1).

If more than one X_VALUE_DISPLAYNAME are given, the data aggregated latest "wins" (overwrite semantics), if attributes with same key are given: data aggregated latest "wins" (Java map#putAll semantics), annotations are enlisted (Java list#add semantics). QueryResultPostProcessingStrategies Post processors can be used to process the consolidator data entries and adding derived information or metadata. Typical use-cases are: Calculating relative values (percentages), rankings, indicators (reached thresholds), value interpretation and classification ("red, yellow, green").  

Default: Set to null (empty list, no strategy defined).

In RankingCategoryReport_GenericQueryConsolidator:, two strategies are predefined:

The RankValuesConsolidatorPostProcessingStrategy ranks entries by their Y0 value (default). The value key can be customized. Assigns attributes 'RANK' (shared by same values) and POSITION (unique) to entries.
The CalculatePercentagesConsolidatorPostProcessingStrategycalculates the percentage of Y0s (customizable key) and assigns the attribute PERCENTAGE to entries. The value is computed as Y0 * 100.0 / TOTAL. The TOTAL value is fetched from the plugged-in totalCalculationStrategy. The default strategy assumes that the total value has been fetched by a PreConsolidatedData_SingleValueQuery and stored in the consolidator as the consolidator parameter 'yValueTotal'. ResultListStrategy 

Converts the result entries' values, annotations and attributes to the format required by the Dashboard Analytics render framework and JasperReports (namely: an ordered list of simple name/value maps, with the maps representing entries). 

Additionally this strategy is used to a) filter out intermediate / temporary fields that are not to be accessible in the resulting report data and b) to convert y values from double to integer representation. 

Default: Set to DefaultResultListStrategy. This strategy converts X_VALUE, X_VALUE_DISPLAYNAME, y values, any custom defined attributes and annotations (highest to lowest precedence, higher precendence will replace lower precendence field with same key). Additionally:

Optionally filters out fields by interpreting the consolidator's property 'resultRemoveFieldsExcept'. If property is set, all fields except the given are filtered out.
Optionally converts values from double to long. Interprets the consolidator's property 'resultValuesAsLong'. If property is set, values of the given keys are converted to long.

