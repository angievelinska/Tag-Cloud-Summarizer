

The Starter Kit comes with a preconfigured CAE Feeder, which sends some data returned by the Starter Kit's content beans to the Search Engine in order to enable search on the website. This includes a special index field with context information. The index field is used to restrict searches to the content of the current site.

This section describes the default configuration of the CAE Feeder for the Starter Kit. Please see the Content Applications Developer Manual for a general description on how to configure the CAE Feeder.

First of all, the CAE Feeder is configured to index content beans for documents of type CMTeasable (and subtypes) which are located in the folder /Site. This is configured in the file config/caefeeder/spring/caefeeder.properties:

feeder.contentSelector.basePath=/Sites
feeder.contentSelector.contentTypes=CMTeasable

The indexed content bean properties are configured in the files starterkit-base-caefeeder-mappings.properties for base and starterkit-standard-caefeeder-mappings.properties for standard document types of the Starter Kit. Both files are located in the directory config/caefeeder/spring/starterkit. All configured properties will be indexed in the index field textbody. For example, the following line configures the CAE Feeder to index the properties subject and text of all CMArticle beans. Therefore the indexer will call the corresponding methods getSubject() and getText().

feeder.beanMapping.com.coremedia.starterkit.common.contentbeans.
 standard.CMArticle=subject, text

The CAE Feeder sets the special index field navigationpaths to the list of contexts the bean can be displayed in. Each context is represented by a path of numeric content IDs from the root navigation up to the parent navigation of the content bean. The IDs are separated by slashes. Multiple contexts are separated by the # character. The Starter Kit website search uses this field to restrict the search results to the content beans which can be displayed on the current site. Feeding the field navigationpaths is configured in the Spring XML file starterkit-base-caefeeder-mappings.xml in the directory config/caefeeder/spring/starterkit. The configuration is a bit more complicated: It defines that an element navigationpaths is sent to the search engine for each CMLinkable. Its value is computed from the content IDs of the beans returned by CMNavigation.getNavigationPathList() for all CMNavigation beans that were returned as parent navigation of the indexed CMLinkable. The configuration uses the CAE Feeder's PropertyConverter interface to create a string representation from a collection of values. You might want to have a look at the Javadoc of the classes used in configuration file.

All used content bean classes must be available in the class path of the CAE Feeder. The Spring configuration files which register the content bean classes at the content bean factory are installed in the classpath or below the Spring configuration directory config/caefeeder/spring. The Starter Kit CAE Feeder already contains these files for the Starter Kit content beans.