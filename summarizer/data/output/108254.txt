

PADS restart dependency

It is possible to create a special dependency on the PADS start. Depending values are invalidated each time PADS is restarted. This is useful if you need to detect changes to some external resources (e.g. configuration files) at restart only. 

As an example, imagine you want to detect file changes and invalidate depending values when PADS is restarted. We don't want to invalidate all values which depend on information from files, but only those values which depend on files with really changed content.

In that case you could write a FileHashBuilder which computes a hash value for a file and lets this value depend on the special key GeneratorCache#RESTART. The builder for file-dependent values uses GeneratorCache#get to create a dependency on the file's hash value. The hash value is invalidated each time the PADS restarts. The method FileHashBuilder#instantlyRecompute returns true, i.e. the hash value is instantly recomputed. If the file hasn't changed, the hash value will stay the same and the dependent values won't be invalidated. If the file content has changed, the hash value changes too and dependent values will be invalidated.

Example code for the FileHashBuilder: