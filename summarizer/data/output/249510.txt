

 Query Type (Spring Bean Name) Description 

Queries for Category Reports

and Ranking Category Reports This query type maps names entries (String identifiers as x values) to numeric values (Y0, Y1, ...). PreConsolidatedData_GenericCategoryQuery 

Configurable, generic query type suitable for pre-aggregated, pre-consolidated data. Respects the time-based data aggregation mechanism of Analytics Database (see #ref#). Properties:

'baseTableName' - time-based data aggregation mechanism-related property. Base name (without underscore and interval type code) of the report database table  (see #ref#).
'timeColumnName' - name of the report database table column that holds the time information.

Its SQL statement must return a result set where the domain value must be named 'X_VALUE' and be convertible to Java String type and the range values named 'Y0', 'Y1', etc. and be of Java double type.



The Generic Query will pass the following query result fields to the consolidator:

The String value named 'X_VALUE' will be converted to String and passed to the consolidator as the x value. The x value may not be null.
The String value named 'X_VALUE_DISPLAYNAME' as the x value's display name. Per default, if no x value display name is provided, the consolidator will raise an error. This can be configured in case a consolidator's strategy is to provide the x value display name.
Any number value (floating-point doubles, long integer values and integer values) will be passed to the consolidator as double values. The SQL result set column name will be converted to uppercase and passed in as the value key. The default value keys are 'Y0', 'Y1', but any value key without special characters can be used.
The optional String value 'ANNOTATION' will be passed to the consolidator as a value annotation.
Any other String or Boolean SQL result set value will be passed to the consolidator as a (metadata) attribute. Its result set column name will be converted to uppercase and passed in as attribute key. 
Any other values of other types will not be passed to the consolidator.

Note: It is the consolidator's responsibility to merge / remap / filter the values, attributes, and annotations from the queries. PreConsolidatedData_SingleValueQuery 

A configurable, generic query type suitable for fetching a single value from the database and passing it to the consolidator. 

Its SQL statement must return a single row with a column entry named 'VALUE'. This value will be set as a consolidator state parameter. The name under which it will be provided to the consolidator must be set in the query's consolidatorParameterName property.



The value can be transformed before passing it to the consolidator by means of a pluggable valueTransformer of type hox.util.BijectiveConverter. RawRelationalData_GenericCategoryQuery 

Configurable, generic query type suitable for non-consolidated, non-aggregated, simple relational data. The query retrieves x and y values from the database and passes them unmodified to the consolidator. Properties:

'baseTableName' - Base name of the report database table. Per default it is NOT dynamically adapted, unless an aggregation model mapping strategy is configured to do so.

Its SQL statement must return a result set where the domain value must be named 'X_VALUE' and be convertible to Java String type and the range values named 'Y0', 'Y1', etc. and be of Java double type.



The Generic Query will pass the following query result fields to the consolidator:

The String value named 'X_VALUE' will be converted to String and passed to the consolidator as the x value. The x value may not be null.
The String value named 'X_VALUE_DISPLAYNAME' as the x value's display name. Per default, if no x value display name is provided, the consolidator will raise an error. This can be configured in case a consolidator's strategy is to provide the x value display name.
Any number value (floating-point doubles, long integer values and integer values) will be passed to the consolidator as double values. The SQL result set column name will be converted to uppercase and passed in as the value key. The default value keys are 'Y0', 'Y1', but any value key without special characters can be used.
The optional String value 'ANNOTATION' will be passed to the consolidator as a value annotation.
Any other String or Boolean SQL result set value will be passed to the consolidator as a (metadata) attribute. Its result set column name will be converted to uppercase and passed in as attribute key.


Any other values of other types will not be passed to the consolidator.

 TimeSeries Report Queries This query type maps points in time (milliseconds as x value) to numeric values (Y0 / Y1, ... values). PreAggregatedData_GenericTimeSeriesQuery 

Configurable, generic query type suitable for pre-aggregated data. Respects the time-based data aggregation mechanism of Analytics Database (see #ref#). Properties:

'baseTableName' - time-based data aggregation mechanism-related property. Base name (without underscore and interval type code) of the report database table (see #ref#).
'timeColumnName' - name of the report database table column that holds the time information.



Its SQL statement must return a result set where the domain value must be named 'X_VALUE' and be convertible to Java Calendar and then to java.lang.Long milliseconds since 1970 and the range values named 'Y0', 'Y1', etc. and be of Java double type.

The Generic Query will pass the following query result fields to the consolidator:

The DateTime value 'X_VALUE' will be converted to milliseconds (type long) and passed to the consolidator as the x value. The x value may not be null.
The optional String value named 'X_VALUE_DISPLAYNAME' as the x value's display name. Per default, no x value display name is provided. It is the framework's responsibility to generate localized names for time stamps.
Any number value (floating-point doubles, long integer values and integer values) will be passed to the consolidator as double values. The SQL result set column name will be converted to uppercase and passed in as the value key. The default value keys are 'Y0', 'Y1', but any value key without special characters can be used.
The optional String value 'ANNOTATION' will be passed to the consolidator as a value annotation.
Any other String or Boolean SQL result set value will be passed to the consolidator as a (metadata) attribute. Its result set column name will be converted to uppercase and passed in as attribute key.
Any other values of other types will not be passed to the consolidator. RawRelationalData_GenericTimeSeriesQuery 

Configurable, generic query type suitable for non-consolidated, non-aggregated, simple relational data. The query retrieves x and y values from the database and passes them unmodified to the consolidator. Properties:

'baseTableName' - Base name of the report database table. Per default it is NOT dynamically adapted, unless an aggregation model mapping strategy is configured to do so.

Its SQL statement must return a result set where the domain value must be named 'X_VALUE' and be convertible to Java String type and the range values named 'Y0', 'Y1', etc. and be of Java double type.



The Generic Query will pass the following query result fields to the consolidator:

The DateTime value 'X_VALUE' will be converted to milliseconds (type long) and passed to the consolidator as the x value. The x value may not be null.
The optional String value named 'X_VALUE_DISPLAYNAME' as the x value's display name. Per default, no x value display name is provided. It is the framework's responsibility to generate localized names for time stamps.
Any number value (floating-point doubles, long integer values and integer values) will be passed to the consolidator as double values. The SQL result set column name will be converted to uppercase and passed in as the value key. The default value keys are 'Y0', 'Y1', but any value key without special characters can be used.
The optional String value 'ANNOTATION' will be passed to the consolidator as a value annotation.
Any other String or Boolean SQL result set value will be passed to the consolidator as a (metadata) attribute. Its result set column name will be converted to uppercase and passed in as attribute key.
Any other values of other types will not be passed to the consolidator.



