

In many cases, BLOB properties store images. For an inline preview of a BLOB property with MIME type image/*, replace the <h:outputText> component inside the preview link by the following fragment:

<h:graphicImage
    rendered="#{document.properties.${property.Name}!=null}"
    title="[#{document.properties.${property.Name}.contentType} /
            #{document.properties.${property.Name}.size} bytes]"
    url="/..#{contentBlobUrl[document].${property.Name}}"
    styleClass="CMThumbnail"/>

This preview component uses the Bean contentBlobUrl to compute a URL to the contents of the image property. Since this URL includes the servlet context path, so that it can also be used for links, but <h:graphicImage> expects a context-relative path, it needs to be prefixed with /...

Using the style class CMThumbnail displays the image as a block and sets a standard size. Of course, you can use any other CSS class or inline style. The best style would be setting a max-width, but unfortunately, Internet Explorer 6 does not support this standard CSS attribute.

