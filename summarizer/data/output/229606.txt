

The Analytics Data Aggregator is started by:

cm workflowserver start

Use the following command to start the Object Analyzer:

cm objectanalyzer start

The Analytics Dashboard, the In-Site Analytics web application and the Content Application Engines with enabled tracking are started by starting their web application container, typically a Tomcat. No special actions are needed.

The First Start

When starting the components of the Analytics Engine for the first time, you should adhere to the correct startup order.
First, the Workflow Server that hosts the Analytics Data Aggregator should be started. During startup, the database schema for the Analytics Database will be created. Therefore, the first start of the Analytics Data Aggregator will take longer than subsequent starts. If the schema creation or update fails, manual intervention will be necessary to repair the schema.
Next, the Object Analyzer should be started. Its first start may take up processing power as it indexes the entire content repository. Subsequently, only changes in the repository will be processed.
The Data Aggregator process definition should be uploaded with cm dataaggregator -u admin init and started with cm dataaggregator -u admin start.
Only after the the Data Aggregator and the Object Analyzer are up and running, you should start the web applications that access the database.
The tracking CAEs may be started at any time, but keep in mind that significant amounts of log data are accumulated locally on the tracking CAEs while the aggregation process is not running.

When restarting the servers after a failure, no special startup sequence is required.

Restarting After an Update

In case of an update, please stop the Data Aggregator using

cm dataaggregator -u admin shutdown

before the update. Afterwards, follow the instructions for the first start and start the Analytics Data Aggregator before all other components. During startup, the existing database schema version in the Analytics Database will be determined and the schema will be updated as needed. Note that this involves uploading a potentially changed process definition using

cm dataaggregator -u admin init

and starting it with 

cm dataaggregator -u admin start

If you accidentially kept the Data Aggregator running while doing an update, you might have to invoke cm workflowconverter -c before being able to restart the Workflow Server.

