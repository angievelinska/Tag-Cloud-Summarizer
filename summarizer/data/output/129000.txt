

An SgmlText property is defined in the document type model (*-doctypes.xml) like this: 

  <DocType Name="MyDoctype">
    <SgmlTextProperty Name="text"/>
  </DocType>

A RichText property is defined as an XmlProperty with the predefined XML grammar named "coremedia-richtext-1.0": 

  <DocType Name="MyDoctype">
    <XmlProperty Name="text" Grammar="coremedia-richtext-1.0"/>
  </DocType>

When migrating from SgmlText to RichText, you can simply change the definition of an existing SgmlText property as in the example above. The SCI server contains an on-the-fly converter for "coremedia-richtext-1.0" XmlProperties that detects content in the old SgmlText format (by checking the root element for <ROOT>). The rules used for transformation are described below in detail.  When migrating to SCI 4.1, you can decide for each property whether you want to convert it to RichText or keep it in SgmlText. In SCI 4.2, SgmlText can no longer be edited, so you have to migrate all SgmlText properties that were edited using the SgmlTextEditor to RichText.  In rare cases, SgmlTextProperties were used to store custom XML corresponding to some other DTD (or no DTD at all) and special property editors were implemented. In these cases, you should change the document type definition into an XmlProperty with a custom-defined XmlGrammar, so that the on-the-fly converter to RichText is not used, i.e. 

  <DocType Name="MySpecialDoctype">
    <SgmlTextProperty Name="someXml"/>
  </DocType>

would become 

  <XmlGrammar Name="someXml"
          Root="foo"
          SystemId="lib/xml/someXml.dtd"/>
     <DocType Name="MySpecialDoctype">
   <XmlProperty Name="xml" Grammar="someXml"/>