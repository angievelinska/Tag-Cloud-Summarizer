

The rewrite module checks the availability of the requested file and, in the negative case, passes the request on to the Active Delivery Server.

The option "MultiViews" (http://httpd.apache.org/docs/mod/core.html#options) must not be activated, since otherwise the web server also delivers non-valid pages from the cache.

Web server plugin instead of mod_proxy

A similar configuration based on a container-specific web server plugin such as mod_jk (Tomcat) or mod_caucho (Resin) instead of on the proxy module is also possible, only slightly more complicated:

Since these web server plugins do not allow conditional processing depending on the CoreMedia cache, a preliminary rewrite rule must modify the URI accordingly so as to distinguish the cases "File available in cache" and "File not available". For this purpose, two different prefixes are chosen: /coremedia (like the servlet context) and (for example) /CoreMedia.
The directory <Context>/generator must now be linked to the web server as $DOCROOT/CoreMedia.
The servlet container must be attached to the web server under /coremedia/generator.
The externally visible URIs must have the prefix /CoreMedia. This must be configured in config.bsh: generator.setResourceUriPrefix("/CoreMedia");.
The rewrite rule must have the following logic: "If the requested file /CoreMedia/xx is not available, then the URI must be rewritten to /coremedia/generator/xx and, on processing, passed through to the servlet container module".