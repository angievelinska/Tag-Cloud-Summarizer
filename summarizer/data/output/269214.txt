

The WebServices examples need some additional tools and components.  This section guides you through setting up the appropriate environment.

JDK and Ant

You need Apache Ant 1.7.0 and JDK 1.6.0 to build the examples. JAVA_HOME and ANT_HOME refer to the installation directories of these tools, respectively.  Java 6 contains a JAX-WS implementation, but the Metro installation will override it with a newer version. Therefore you need WRITE permission in JAVA_HOME/lib.

Make sure that JAVA_HOME/bin and ANT_HOME/bin are included in your PATH environment variable.

Tomcat and the CAE template

JAX-WS compliant WebServices can be deployed as standalone server, but a deployment in a servlet container is assumed as a more realistic scenario. So the build files of the examples require a Tomcat instance to deploy to. The Metro installation  will enhance Tomcat with the JAX-WS libraries globally, so you should use a new Tomcat instance in order to avoid clashes with other web applications that bring their own JAX-WS implementations.

Since the examples access CoreMedia CMS, you need the CMS API libraries.

It is recommended that you use the CoreMedia CMS installer to install the CAE template and Tomcat. The examples in the manual are preconfigured for this setup.

Metro

The WebServices examples have been developed with Metro 1.3.1. They should also work with later versions of Metro, however, it cannot be guaranteed that everything works, and some details may vary from this manual.  Download Metro 1.3.1 from https://metro.dev.java.net and execute the jar-file as described there. This extracts a directory named metro into your working directory refered to as JAXWS_HOME.  Set JAXWS_HOME as an environment variable, because that is the default configuration in the examples.

JAXWS_HOME contains an Ant build file metro-on-tomcat.xml.  This build file is used to install the JAX-WS libraries in Tomcat and in your JDK.  Java 6 contains a JAX-WS implementation which must be overridden by a newer version for Metro, therefore you need write permission in JAVA_HOME/lib.  The build file requires the environment variables JAVA_HOME and CATALINA_HOME to find the installation directories of the JDK and Tomcat.  Set them accordingly, and execute

$ ant -f metro-on-tomcat.xml help

to see the exact usage.  In Metro 1.3.1 it is

$ ant -f metro-on-tomcat.xml install

Tomcat must be restarted after this enhancement.

CoreMedia CMS

You need access to a CoreMedia CMS with reasonable permissions, but you don't need an admin account for these examples Global READ permissions and editorial rights for some part of the folder hierarchy are sufficient. 