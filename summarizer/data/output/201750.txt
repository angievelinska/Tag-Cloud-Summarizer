

Action

The next example introduces a custom action that is capable of moving and renaming a content atomically. The class is named MoveAndRenameAction. It is derived from the base class SimpleAction, which further reduces its complexity.

The arguments for the action are taken from three process variables, whose names are configured in the XML definition and stored in three fields in the action. In the file move-and-rename.xml as delivered with the examples, the action is configured as follows:

<Action class="com.coremedia.examples.plugin.MoveAndRenameAction"
  contentVariable="content"
  targetVariable="target"
  nameVariable="name" />

Except for the three fields and the setters, the implementation consists of a single method.

public boolean doExecute(Process process) {
  Content content = process.getLink(contentVariable);
  Content target = process.getLink(targetVariable);
  String name = process.getString(nameVariable);
  content.moveTo(target, name);  
  return true;
}

By returning true, the action indicates that it completed normally.