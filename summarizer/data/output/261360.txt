

Configure the source paths

Use the following property to define the source paths of your CSS and image files:

import.multiResultGeneratorFactory.property.inbox

Simply separate different paths with semicolons. The importer processes the directories recursively and imports all files with the extensions .css, .png, .jpg and .gif.

Configure the target paths

Use the following two properties to define the target paths in the CoreMedia Repository:

import.transformer.10.property.sourcepath
import.transformer.10.property.targetpath

Define the base directory in the CoreMedia repository with the targetpath property. The importer creates a folder structure below this base directory that reflect the directory structure of the source path. If all source paths have a common prefix, you might get a bulky and deep folder hierarchy. Use the sourcepath property to define a prefix common to all source directories that should be omitted from the folder hierarchy.

Example

Your directory structure of the source files looks like this:

/home/myUser/work/web/css/myStylesheet.css
/home/myUser/work/web/pics/layout/background.jpg
/home/myUser/work/web/pics/navigation/arrow.gif
/home/myUser/work/web/html/...

You have configured the following settings:

import.multiResultGeneratorFactory.property.inbox=
/home/myUser/work/web/css;/home/myUser/work/web/pics
import.transformer.10.property.sourcepath=/home/myUser/work/web
import.transformer.10.property.targetpath=/Sites/TheSite/layout

The importer creates the following repository structure:

/Sites/TheSite/layout/css/myStylesheet.css
/Sites/TheSite/layout/pics/layout/background.jpg
/Sites/TheSite/layout/pics/navigation/arrow.gif

Start the Importer

Start the importer with:

bin/cm css-import start

Verify the import

After the import has finished, you should verify the result. Open the editor and explore the target path. All your style sheets should appear in documents of type CMCSS with the names of their source files. Open a style sheet which includes other style sheets and images with the url() syntax. The arguments of the url()s should be internal links. If an argument is only plain text, the referenced file was probably not found in the configured inbox paths. Check the file var/logs/css-import.log for details in case of problems. 