

renderNormal is only defined for the document type Image and implemented with the template shown in Example 4.4.1.4a. The image is displayed at full size by the appropriate HTML code. ImageWithThumbnail inherits exactly this implementation, which does not differ there. The property data can be accessed without danger, since the ViewDispatcher ensures that this template is only used for resources of document type Image or a more specific type, which all possess this property. 

The first lines show the usual declarations for CoreMedia or JSP templates. Then the current resource is assigned to the variable image. On creation of the img tag, it can be seen how the properties are accessed. While access to the width and height of the image occurs directly via the Generator API, the image data is referenced via a PropertyUri. Since this contains no template-ID, the standard view, default, is used, which can be configured in the ViewDispatcher. The ViewDispatcher calls up the default template for blobs, and the MimeTypeViewVariantRule (see xxx) takes into account the current MIME type of the blob. In the standard configuration, however, this has no influence, since the default view for blobs has no variants. 

Say that resource 4712 is a document of type ImageWithThumbnail. A ResourceURI such as  

http://.../coremedia/generator?id=4712&templateId=renderNormal 

is interpreted by the system by executing the template finder. The ViewDispatcher determines the document type of resource 4712 and searches for an implementation of the view renderNormal. Since renderNormal is not defined for ImageWithThumbnail, the document hierarchy is searched upwards. The template Image/renderNormal.jsp is found and returned. 