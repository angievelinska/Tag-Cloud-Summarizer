

Line 1 - 4: Your package and the packages to import.

Line 6: You subclass DefaultPerformersPolicy for convenience.

Line 12 -14: Return the name of the policy.

Line 16 - 18: Return a description of the policy.

Line 20 - 33: The most important method which is called by the workflow server.

Line 20- 21: On call, the workflow server passes a WfTaskInstance and the WfUsers to the method. WfUsers contains all users which are allowed to accept the task. 

Line 22 -23: At first you call the method calculateAssignment method of the super class, because the aim of this example policy is to modify the default result.

Line 25: Prepare the manipulation of the result by getting the WfUser from the WfUserAssignment.

Line 26: Prepare a new WfUser array which should keep the resulting users. Remember, we only want to get rid of the last user, so the length of the array is users.length-1.

Line 27 - 29: If the result contains no user, this result is returned.

Line 30: Otherwise, all users but the last are copied from the default result array to the returned array.

Line 32: The result array is returned to the workflow server. The second parameter determines that the selected user is not forced to accept the task.

