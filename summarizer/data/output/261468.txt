

The RewriteEngine on directive enables URL rewriting for this virtual host. The first RewriteRule creates a mapping for the Analytics tracking requests.

The "[P,L]" flag for the RewriteRules modifies the request so it will be served by the proxy module, instead of as an internal request or a redirect. The "L" denotes that the request should not be further rewritten.

Configuring the Starter Kit web application

In order to work behind a rewriting Apache HTTPD as described above, you have to configure the Starter Kit CAE web application to generate appropriate links between different pages. Proceed as follows:
In WEB-INF/spring/starterkit/starterkit.properties make the following changes:

Set the properties starterkit.appendBaseUri and starterkit.appendSite to false:

starterkit.appendBaseUri=false
starterkit.appendSite=false

Set the starterkit.segmentLinkScheme.prefix property to an empty string:

starterkit.segmentLinkScheme.prefix=

If you have links between different sites within the same Starter Kit installation, you can map the root segment of the linktarget to an absolute hostname.
Therefore please add a mapping as described in the WEB-INF/spring/starterkit/starterkit.properties file:

###########################################################
# site mapping, mapping from a root segment to an absolute 
# url-prefix
# example:
# starterkit.site.mapping.test1=http://www.test1.com
# maps /test1 to http://www.test1.com when formatting 
# cross-site links
#############################################################
starterkit.site.mapping.coremedia=http://coremedia.example.com

