

  <bean id="jsfEditingSessionInterceptor"
    class="com.coremedia.editing.cap.EditingSessionInterceptor">
    <property name="connection" ref="connection"/>
  </bean>

  <bean id="jsfLoginInterceptor"
    class="com.coremedia.editing.kits.jsf.controllers.
     CapLoginInterceptor">
    <property name="loginUri" value="/views/login.jsp"/>
    <property name="reloginUri" value="/views/relogin.jsp"/>
    <property name="backUri" value="/views/back.jsp"/>
    <property name="redirectLoggedInURI" 
    value="/views/explorer.jsp"/>
    <property name="connection" ref="connection"/>
    <property name="forwardUriAttributeName" 
     value="jsfLoginInterceptor_forward_URI"/>
  </bean>

  <bean id="facesControllerMapping"
    class="org.springframework.web.servlet.handler.
    SimpleUrlHandlerMapping">
  <property name="interceptors">
    <list>
      <ref local="jsfEditingSessionInterceptor"/>
      <ref local="jsfLoginInterceptor"/>
    </list>
    </property>
    <property name="mappings">
      <value>/views/**=viewsController</value>
    </property>
  </bean>

  <bean id="afterLoginControllerMapping"
    class="org.springframework.web.servlet.handler.
    SimpleUrlHandlerMapping">
    <property name="mappings">
      <value>/after-login</value>
    </property>
  </bean>

  <bean id="afterLoginController"
    class="com.coremedia.editing.kits.jsf.controllers.
    ForwardOrRedirectController">
    <property name="defaultForwardUri" 
   value="/views/explorer.jsp?debug=loginController"/>
    <property name="forwardUriAttributeName" 
   value="jsfLoginInterceptor_forward_URI"/>
    <property name="synchronizeOnSession" value="true"/>
    <property name="redirect" value="true"/>
  </bean>