

The Database Message Service receives message objects from a ProActive Delivery Server via the DBMessageUploader. The received messages are stored in a database and are available for users that are subscribed to the service. A servlet (the DBMessageServiceServlet) acts as the public interface of the Database Message Service.

There are different ways of receiving messages from the servlet:

The use of the DBMessageServiceReceiver as a standalone application (see the Administration and Operation Manual).
Usage of a DBMessageServiceReceiver instance within a custom application


In any case the servlet returns instances of the class DBMessage. The class DBMessage contains a unique id, a key/value pair and a type. The unique id of a message is set by the Database Message Service. The key-value-pair is the actual payload of the message. The message type represents a pads event type and thus can be on of the following:

update
delete
commit

In order to receive messages from the servlet, a client has to subscribe to the Database Message Service with a unique userid. Afterwards the client can receive any new message that arrives. It should do so by asking first if there are any new messages for the subscribed user on the server. It can then receive the messages and process them. After all the messages have been processed the client needs to acknowledge the highest message id it received. This is very important as this value determines which messages need to be send to the client by the server the next time it requests new messages.